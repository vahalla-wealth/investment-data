# 02.2 — Vahalla Wealth Data — Sample Data: Position (CSV & JSON)

> **Document Index:** [00-index.md](00-index.md) | **Parent:** [01 — Wealth Management Specification](01-wealth-management-specification.md) | **Related:** [02 — Equity & Bond Specification](02-bank-data-specification-equity-bond.md)

Positions reference both Equity and Bond assets. Each row represents a single holding within an account/portfolio.

---

## 1. CSV Examples

### Position — Equity (CSV)

#### Header Row

```csv
id,assetId,assetClass,securityType,isin,ticker,assetName,quantity,side,status,averageCost,costBasis,costCurrency,currentPrice,marketValue,valuationCurrency,valuationDate,unrealizedPnL,unrealizedPnLPercent,realizedPnL,totalPnL,accruedInterest,accruedDividend,portfolioWeight,settledQuantity,unsettledQuantity,openDate,lastTradeDate,maturityDate,accountId,portfolioId,createdAt,updatedAt
```

#### Data Row

```csv
POS-001234,SEC-EQ-001,SECURITIES,EQUITY,US0378331005,AAPL,"Apple Inc. Common Stock",10000,LONG,OPEN,165.00,1650000.00,USD,185.50,1855000.00,USD,2026-02-08T16:00:00Z,205000.00,12.42,45000.00,250000.00,0.00,550.00,15.50,10000,0,2024-06-15T10:30:00Z,2026-01-20T14:00:00Z,,ACC-001234,PF-001234,2024-06-15T10:30:00Z,2026-02-08T16:00:00Z
```

### Position — Bond (CSV)

```csv
POS-002345,SEC-BD-001,SECURITIES,BOND,US912828Z784,,"US Treasury Note 2.5% 2034",500,LONG,OPEN,987.50,493750.00,USD,985.00,492500.00,USD,2026-02-08T16:00:00Z,-1250.00,-0.25,0.00,-1250.00,5125.00,0.00,4.12,500,0,2025-03-20T09:00:00Z,2025-03-20T09:00:00Z,2034-03-15,ACC-001234,PF-001234,2025-03-20T09:00:00Z,2026-02-08T16:00:00Z
```

### Position — Short Equity (CSV)

```csv
POS-003456,SEC-EQ-002,SECURITIES,EQUITY,US5949181045,MSFT,"Microsoft Corp. Common Stock",-200,SHORT,OPEN,420.00,84000.00,USD,415.50,83100.00,USD,2026-02-08T16:00:00Z,900.00,1.07,0.00,900.00,0.00,0.00,0.69,0,200,2026-02-05T11:00:00Z,2026-02-05T11:00:00Z,,ACC-001234,PF-001234,2026-02-05T11:00:00Z,2026-02-08T16:00:00Z
```

> **Note:** Short positions use negative `quantity`. The `side` field is `SHORT` and `unsettledQuantity` reflects pending settlement.

### Multi-Row CSV File Example

A typical daily `position.csv` file contains all positions across asset classes:

```csv
id,assetId,assetClass,securityType,isin,ticker,assetName,quantity,side,status,averageCost,costBasis,costCurrency,currentPrice,marketValue,valuationCurrency,valuationDate,unrealizedPnL,unrealizedPnLPercent,realizedPnL,totalPnL,accruedInterest,accruedDividend,portfolioWeight,settledQuantity,unsettledQuantity,openDate,lastTradeDate,maturityDate,accountId,portfolioId,createdAt,updatedAt
POS-001234,SEC-EQ-001,SECURITIES,EQUITY,US0378331005,AAPL,"Apple Inc. Common Stock",10000,LONG,OPEN,165.00,1650000.00,USD,185.50,1855000.00,USD,2026-02-08T16:00:00Z,205000.00,12.42,45000.00,250000.00,0.00,550.00,15.50,10000,0,2024-06-15T10:30:00Z,2026-01-20T14:00:00Z,,ACC-001234,PF-001234,2024-06-15T10:30:00Z,2026-02-08T16:00:00Z
POS-002345,SEC-BD-001,SECURITIES,BOND,US912828Z784,,"US Treasury Note 2.5% 2034",500,LONG,OPEN,987.50,493750.00,USD,985.00,492500.00,USD,2026-02-08T16:00:00Z,-1250.00,-0.25,0.00,-1250.00,5125.00,0.00,4.12,500,0,2025-03-20T09:00:00Z,2025-03-20T09:00:00Z,2034-03-15,ACC-001234,PF-001234,2025-03-20T09:00:00Z,2026-02-08T16:00:00Z
POS-003456,SEC-EQ-002,SECURITIES,EQUITY,US5949181045,MSFT,"Microsoft Corp. Common Stock",-200,SHORT,OPEN,420.00,84000.00,USD,415.50,83100.00,USD,2026-02-08T16:00:00Z,900.00,1.07,0.00,900.00,0.00,0.00,0.69,0,200,2026-02-05T11:00:00Z,2026-02-05T11:00:00Z,,ACC-001234,PF-001234,2026-02-05T11:00:00Z,2026-02-08T16:00:00Z
```

---

## 2. JSON Examples

### Position — Equity (JSON)

```json
{
  "id": "POS-001234",
  "assetId": "SEC-EQ-001",
  "assetClass": "SECURITIES",
  "securityType": "EQUITY",
  "isin": "US0378331005",
  "ticker": "AAPL",
  "assetName": "Apple Inc. Common Stock",
  "quantity": 10000,
  "side": "LONG",
  "status": "OPEN",
  "averageCost": 165.00,
  "costBasis": 1650000.00,
  "costCurrency": "USD",
  "currentPrice": 185.50,
  "marketValue": 1855000.00,
  "valuationCurrency": "USD",
  "valuationDate": "2026-02-08T16:00:00Z",
  "unrealizedPnL": 205000.00,
  "unrealizedPnLPercent": 12.42,
  "realizedPnL": 45000.00,
  "totalPnL": 250000.00,
  "accruedInterest": 0.00,
  "accruedDividend": 550.00,
  "portfolioWeight": 15.50,
  "settledQuantity": 10000,
  "unsettledQuantity": 0,
  "openDate": "2024-06-15T10:30:00Z",
  "lastTradeDate": "2026-01-20T14:00:00Z",
  "maturityDate": null,
  "accountId": "ACC-001234",
  "portfolioId": "PF-001234",
  "createdAt": "2024-06-15T10:30:00Z",
  "updatedAt": "2026-02-08T16:00:00Z"
}
```

### Position — Bond (JSON)

```json
{
  "id": "POS-002345",
  "assetId": "SEC-BD-001",
  "assetClass": "SECURITIES",
  "securityType": "BOND",
  "isin": "US912828Z784",
  "ticker": null,
  "assetName": "US Treasury Note 2.5% 2034",
  "quantity": 500,
  "side": "LONG",
  "status": "OPEN",
  "averageCost": 987.50,
  "costBasis": 493750.00,
  "costCurrency": "USD",
  "currentPrice": 985.00,
  "marketValue": 492500.00,
  "valuationCurrency": "USD",
  "valuationDate": "2026-02-08T16:00:00Z",
  "unrealizedPnL": -1250.00,
  "unrealizedPnLPercent": -0.25,
  "realizedPnL": 0.00,
  "totalPnL": -1250.00,
  "accruedInterest": 5125.00,
  "accruedDividend": 0.00,
  "portfolioWeight": 4.12,
  "settledQuantity": 500,
  "unsettledQuantity": 0,
  "openDate": "2025-03-20T09:00:00Z",
  "lastTradeDate": "2025-03-20T09:00:00Z",
  "maturityDate": "2034-03-15",
  "accountId": "ACC-001234",
  "portfolioId": "PF-001234",
  "createdAt": "2025-03-20T09:00:00Z",
  "updatedAt": "2026-02-08T16:00:00Z"
}
```

### Position — Short Equity (JSON)

```json
{
  "id": "POS-003456",
  "assetId": "SEC-EQ-002",
  "assetClass": "SECURITIES",
  "securityType": "EQUITY",
  "isin": "US5949181045",
  "ticker": "MSFT",
  "assetName": "Microsoft Corp. Common Stock",
  "quantity": -200,
  "side": "SHORT",
  "status": "OPEN",
  "averageCost": 420.00,
  "costBasis": 84000.00,
  "costCurrency": "USD",
  "currentPrice": 415.50,
  "marketValue": 83100.00,
  "valuationCurrency": "USD",
  "valuationDate": "2026-02-08T16:00:00Z",
  "unrealizedPnL": 900.00,
  "unrealizedPnLPercent": 1.07,
  "realizedPnL": 0.00,
  "totalPnL": 900.00,
  "accruedInterest": 0.00,
  "accruedDividend": 0.00,
  "portfolioWeight": 0.69,
  "settledQuantity": 0,
  "unsettledQuantity": 200,
  "openDate": "2026-02-05T11:00:00Z",
  "lastTradeDate": "2026-02-05T11:00:00Z",
  "maturityDate": null,
  "accountId": "ACC-001234",
  "portfolioId": "PF-001234",
  "createdAt": "2026-02-05T11:00:00Z",
  "updatedAt": "2026-02-08T16:00:00Z"
}
```

### Multi-Record JSON File Example

A typical daily `position.json` file wraps all positions in an array:

```json
[
  { "id": "POS-001234", "assetId": "SEC-EQ-001", "isin": "US0378331005", "...":  "..." },
  { "id": "POS-002345", "assetId": "SEC-BD-001", "isin": "US912828Z784", "...":  "..." },
  { "id": "POS-003456", "assetId": "SEC-EQ-002", "isin": "US5949181045", "...":  "..." }
]
```

---

## 3. Formatting Rules

| Rule | Description |
|---|---|
| **Delimiter** | Comma (`,`) |
| **Encoding** | UTF-8 (with BOM optional) |
| **CSV Header** | First row must contain field names matching the [Position specification](01-wealth-management-specification.md#8-position-data-fields) |
| **Quoting** | Fields containing commas, double quotes, or newlines must be enclosed in double quotes (`"`) |
| **Escaping** | Double quotes within a field are escaped by doubling (`""`) |
| **Empty fields** | Leave blank between delimiters (e.g. `,,`) |
| **Boolean** | `true` / `false` (lowercase) |
| **Date** | ISO 8601: `YYYY-MM-DD` |
| **DateTime** | ISO 8601: `YYYY-MM-DDTHH:MM:SSZ` |
| **Decimal** | No thousands separator, dot (`.`) as decimal separator |
| **Line ending** | CRLF (`\r\n`) or LF (`\n`) |

### JSON Rules

| Rule | Description |
|---|---|
| **Encoding** | UTF-8 |
| **Structure** | Array of objects `[{...}, {...}]` for batch files; single object `{...}` for individual records |
| **Field names** | Must match field names from the [Position specification](01-wealth-management-specification.md#8-position-data-fields) |
| **Null values** | Use JSON `null` (not empty string) for absent optional fields |
| **Boolean** | JSON `true` / `false` (not quoted) |
| **Numbers** | Unquoted numeric values; decimals use dot (`.`) separator |
| **Dates** | ISO 8601 strings: `"2026-02-08T16:00:00Z"` |
